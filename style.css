/* خط عام */
:root { --bg:#1f2233; --card:#2b2f45; --slot:#3a3f5c; --ink:#eaf0ff; }
* { box-sizing: border-box; }
html, body { height: 100%; }

/* صفحة الشات كعمود: استيج (ثابت) + رسائل (مرنة) + إدخال (ثابت) */
.chat-bg{
  margin:0;
  background: var(--bg);
  color: var(--ink);
  font-family: -apple-system, system-ui, "Segoe UI", Tahoma, Arial;
  display: flex;
  flex-direction: column;
  min-height: 100dvh; /* أفضل للهواتف */
}

/* الاستيج ثابت أعلى الصفحة */
.stage{
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 12px;
  padding: 12px;
  background: var(--card);
  border-bottom: 1px solid #22283a;
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}
.mic-slot{
  width: 64px;
  height: 64px;
  border-radius: 14px;
  background: var(--slot);
  display: flex; align-items: center; justify-content: center;
  font-size: 28px;
  border: 3px solid #000;
  box-shadow: inset 0 0 0 2px #313a5a, 0 8px 22px rgba(0,0,0,.35);
}
/* لو تبي تميّز مايك شغال، ضف class="mic-slot active" من JS */
.mic-slot.active{
  border-color: #d9b356;
  box-shadow: inset 0 0 0 2px #59461f, 0 0 18px rgba(255,220,120,.85);
}

/* الرسائل (تتمدّد وتأخذ كل الفراغ، مع تمرير) */
.chat-box{
  flex: 1;
  overflow-y: auto;
  padding: 12px;
  background: #23273a;
}

/* الإدخال ثابت أسفل الصفحة */
.message-input{
  position: sticky;
  bottom: 0;
  z-index: 10;
  display: flex;
  gap: 8px;
  padding: 10px;
  background: var(--card);
  border-top: 1px solid #22283a;
}
.message-input input{
  flex: 1;
  padding: 12px 14px;
  border: none;
  border-radius: 10px;
  font-size: 16px; /* يمنع تكبير المتصفح على iOS */
  background: #1b2236;
  color: #fff;
  outline: none;
}
.message-input button{
  padding: 12px 16px;
  border: none;
  border-radius: 10px;
  background: linear-gradient(90deg,#b79cff,#a487ff);
  color: #140a2b;
  font-weight: 800;
  cursor: pointer;
}

/* بادجات الرُتب (لو استعملتها بالرسائل) */
.owner{
  background: linear-gradient(90deg,#ffd76b,#ffb224);
  color:#1a1200; padding:2px 8px; border-radius:999px; margin-left:6px;
  box-shadow:0 0 12px rgba(255,197,61,.85); animation: glowGold 1.6s infinite alternate; font-size:11px
}
.admin{
  background: linear-gradient(90deg,#ff6b6b,#ff1f1f);
  color:#fff; padding:2px 8px; border-radius:999px; margin-left:6px;
  box-shadow:0 0 12px rgba(255,65,65,.85); animation: glowRed 1.6s infinite alternate; font-size:11px
}
@keyframes glowGold{from{box-shadow:0 0 6px rgba(255,197,61,.6)}to{box-shadow:0 0 18px rgba(255,197,61,1)}}
@keyframes glowRed{from{box-shadow:0 0 6px rgba(255,65,65,.6)}to{box-shadow:0 0 18px rgba(255,65,65,1)}}
